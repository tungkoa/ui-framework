{"code":"import { escapeHtml } from './helpers.js';\nexport class HTMLElementSSR {\n    tagName;\n    isSelfClosing = false;\n    nodeType = null;\n    _ssr;\n    constructor(tag) {\n        this.tagName = tag;\n        const selfClosing = [\n            'area',\n            'base',\n            'br',\n            'col',\n            'embed',\n            'hr',\n            'img',\n            'input',\n            'link',\n            'meta',\n            'param',\n            'source',\n            'track',\n            'wbr'\n        ];\n        this.nodeType = 1;\n        if (selfClosing.indexOf(tag) >= 0) {\n            this._ssr = `<${tag} />`;\n            this.isSelfClosing = true;\n        }\n        else {\n            this._ssr = `<${tag}></${tag}>`;\n        }\n    }\n    get outerHTML() {\n        return this.toString();\n    }\n    get innerHTML() {\n        return this.innerText;\n    }\n    set innerHTML(text) {\n        this.innerText = text;\n    }\n    get innerText() {\n        const reg = /(^<[^>]+>)(.+)?(<\\/[a-z0-9]+>$|\\/>$)/gm;\n        return reg.exec(this._ssr)?.[2] || '';\n    }\n    set innerText(text) {\n        const reg = /(^<[^>]+>)(.+)?(<\\/[a-z0-9]+>$|\\/>$)/gm;\n        const replacer = (_match, p1, _p2, p3) => [p1, text, p3].join('');\n        this._ssr = this._ssr.replace(reg, replacer);\n    }\n    getAttribute(_name) {\n        return null;\n    }\n    get classList() {\n        const element = this._ssr;\n        const classesRegex = /^<\\w+.+(\\sclass=\")([^\"]+)\"/gm;\n        return {\n            add: (name) => {\n                this.setAttribute('class', name);\n            },\n            entries: {\n                get length() {\n                    const classes = classesRegex.exec(element);\n                    if (classes && classes[2])\n                        return classes[2].split(' ').length;\n                    return 0;\n                }\n            }\n        };\n    }\n    toString() {\n        return this._ssr;\n    }\n    setAttributeNS(_namespace, name, value) {\n        this.setAttribute(name, value);\n    }\n    setAttribute(name, value) {\n        const replacer1 = (_match, p1, p2) => `${p1}${escapeHtml(name)}=\"${escapeHtml(value)}\" ${p2}`;\n        const replacer2 = (_match, p1, p2) => `${p1} ${escapeHtml(name)}=\"${escapeHtml(value)}\"${p2}`;\n        if (this.isSelfClosing)\n            this._ssr = this._ssr.replace(/(^<[a-z0-9]+ )(.+)/gm, replacer1);\n        else\n            this._ssr = this._ssr.replace(/(^<[^>]+)(.+)/gm, replacer2);\n    }\n    append(child) {\n        this.appendChild(child);\n    }\n    appendChild(child) {\n        const index = this._ssr.lastIndexOf('</');\n        this._ssr = this._ssr.substring(0, index) + child + this._ssr.substring(index);\n    }\n    get children() {\n        const reg = /<([a-z0-9]+)((?!<\\/\\1).)*<\\/\\1>/gms;\n        const array = [];\n        let match;\n        while ((match = reg.exec(this.innerHTML)) !== null) {\n            array.push(match[0].replace(/[\\s]+/gm, ' '));\n        }\n        return array;\n    }\n    addEventListener(_type, _listener, _options) { }\n}\nexport class DocumentSSR {\n    body;\n    head;\n    constructor() {\n        this.body = this.createElement('body');\n        this.head = this.createElement('head');\n    }\n    createElement(tag) {\n        return new HTMLElementSSR(tag);\n    }\n    createElementNS(_URI, tag) {\n        return this.createElement(tag);\n    }\n    createTextNode(text) {\n        return escapeHtml(text);\n    }\n    querySelector(_query) {\n        return undefined;\n    }\n}\nconst documentSSR = () => {\n    return new DocumentSSR();\n};\nexport { documentSSR };\n//# sourceMappingURL=regexDom.js.map","references":["/Users/tungkoa/WebstormProjects/new-ui-framework/nano/src/helpers.ts"],"map":"{\"version\":3,\"file\":\"regexDom.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/regexDom.ts\"],\"names\":[],\"mappings\":\"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\"}","dtsmap":{"name":"./node_modules/.cache/.rts2_cache_es/placeholder/regexDom.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"regexDom.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/regexDom.ts\"],\"names\":[],\"mappings\":\"AAEA,qBAAa,cAAc;IAClB,OAAO,EAAE,MAAM,CAAA;IACf,aAAa,EAAE,OAAO,CAAQ;IAC9B,QAAQ,EAAE,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAO;IAC/E,OAAO,CAAC,IAAI,CAAQ;gBAER,GAAG,EAAE,MAAM;IA8BvB,IAAI,SAAS,WAEZ;IAED,IAAI,SAAS,IAAI,MAAM,CAEtB;IAED,IAAI,SAAS,CAAC,IAAI,EAJD,MAIC,EAEjB;IAED,IAAI,SAAS,IAAI,MAAM,CAGtB;IAED,IAAI,SAAS,CAAC,IAAI,EALD,MAKC,EAIjB;IAED,YAAY,CAAC,KAAK,EAAE,GAAG;IAIvB,IAAI,SAAS;oBAMG,MAAM;;;;MAWrB;IAED,QAAQ;IAIR,cAAc,CAAC,UAAU,EAAE,MAAM,GAAG,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;IAIrE,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;IAUxC,MAAM,CAAC,KAAK,EAAE,GAAG;IAIjB,WAAW,CAAC,KAAK,EAAE,GAAG;IAKtB,IAAI,QAAQ,aAUX;IAED,gBAAgB,CAAC,CAAC,SAAS,MAAM,gBAAgB,EAC/C,KAAK,EAAE,MAAM,CAAC,EACd,SAAS,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,gBAAgB,CAAC,CAAC,CAAC,KAAK,GAAG,EAC3D,QAAQ,CAAC,EAAE,OAAO,GAAG,uBAAuB,GAAG,SAAS;CAE3D;AAED,qBAAa,WAAW;IACtB,IAAI,EAAE,WAAW,CAAA;IACjB,IAAI,EAAE,WAAW,CAAA;;IAOjB,aAAa,CAAC,GAAG,EAAE,MAAM;IAIzB,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM;IAIzC,cAAc,CAAC,IAAI,EAAE,MAAM;IAI3B,aAAa,CAAC,MAAM,EAAE,MAAM;CAG7B;AAED,QAAA,MAAM,WAAW,gBAEhB,CAAA;AAED,OAAO,EAAE,WAAW,EAAE,CAAA\"}"},"dts":{"name":"./node_modules/.cache/.rts2_cache_es/placeholder/regexDom.d.ts","writeByteOrderMark":false,"text":"export declare class HTMLElementSSR {\n    tagName: string;\n    isSelfClosing: boolean;\n    nodeType: null | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\n    private _ssr;\n    constructor(tag: string);\n    get outerHTML(): string;\n    get innerHTML(): string;\n    set innerHTML(text: string);\n    get innerText(): string;\n    set innerText(text: string);\n    getAttribute(_name: any): null;\n    get classList(): {\n        add: (name: string) => void;\n        entries: {\n            readonly length: number;\n        };\n    };\n    toString(): string;\n    setAttributeNS(_namespace: string | null, name: string, value: string): void;\n    setAttribute(name: string, value: string): void;\n    append(child: any): void;\n    appendChild(child: any): void;\n    get children(): string[];\n    addEventListener<K extends keyof DocumentEventMap>(_type: keyof K, _listener: (this: Document, ev: DocumentEventMap[K]) => any, _options?: boolean | AddEventListenerOptions | undefined): void;\n}\nexport declare class DocumentSSR {\n    body: HTMLElement;\n    head: HTMLElement;\n    constructor();\n    createElement(tag: string): HTMLElement;\n    createElementNS(_URI: string, tag: string): HTMLElement;\n    createTextNode(text: string): string;\n    querySelector(_query: string): undefined;\n}\ndeclare const documentSSR: () => Document;\nexport { documentSSR };\n//# sourceMappingURL=regexDom.d.ts.map"}}
