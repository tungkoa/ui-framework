"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Progress = void 0;
const core_1 = require("../core");
const elements_1 = require("../../elements");
const Progress = props => {
    // [####==================================] 100% | ETA: 0s | 200/200
    const X = ['█', '▊', '▌', '▎', ' '];
    const length = 40;
    const progress = Math.ceil(length * (props.progress / 100));
    const fourth = (progress - Math.ceil(length * (props.progress / 100) * 4) / 4) * 4;
    const filled = (core_1.h(elements_1.Text, { color: "blue" },
        new Array(progress - 1).fill(X[0]).join(''),
        X[fourth]));
    const empty = new Array(length - progress).fill(' ').join('');
    const bar = `${filled}${empty}`;
    let percent = (Math.round(props.progress * 10) / 10).toFixed(1);
    if (percent.length < 5)
        percent = new Array(5 - percent.length).fill(' ').join('') + percent;
    return (core_1.h("div", null,
        percent,
        "% ",
        bar,
        " ",
        props.comment));
};
exports.Progress = Progress;
