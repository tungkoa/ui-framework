"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InputComponent = void 0;
const component_1 = require("./component");
class InputComponent extends component_1.Component {
    constructor() {
        super(...arguments);
        this.str = '';
    }
    async _onKeyPress(str, key) {
        // kill the event listener early
        if (key.sequence === '\u0003') {
            process.stdin.removeListener('keypress', this._onKeyPress);
            this.exit();
        }
        // call onKeyPress()
        else
            this.onKeyPress(str, key);
    }
    _onExit() {
        process.stdin.removeListener('keypress', this._onKeyPress);
    }
    _start() {
        this._onKeyPress = this._onKeyPress.bind(this);
        process.stdin.on('keypress', this._onKeyPress);
    }
}
exports.InputComponent = InputComponent;
